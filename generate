#!/usr/bin/env php
<?php
/**
 * Generate script.
 *
 * Generates file with randomized floating numbers.
 *
 * @author  Adam "Saibamen" Stachowicz <saibamenppl@gmail.com>
 */

namespace Generate;

use File;
use Generateinc;
use Input;

require_once 'generate.inc.php';
require_once 'Input.php';
require_once 'File.php';

// Run only in CLI
if (php_sapi_name() !== 'cli') {
    exit('This is console app. Please run it in console (CLI)!');
}

/**
 * If true - print more information.
 *
 * @var bool
 *
 * @todo Read from console arguments
 */
define('DEBUG', true);

$min = Input\getNumberInput('Type minimum allowed number');
$max = Input\getNumberInput('Type maximum allowed number', 10);

// Switch min and max if min > max
$minMax = Generateinc\checkSwitchMinMax($min, $max);

$min = $minMax['min'];
$max = $minMax['max'];

$decimalPlaces = Input\getNumberInput('Type number of decimal places');

// TODO: File size to generate

$filename = Input\getFilenameInput('Type output filename (without extension)');

$outputString = Generateinc\generateRandomNumbers($min, $max, $decimalPlaces);

File\saveStringToFile($outputString, $filename);
